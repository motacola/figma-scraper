<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>FigmaSnap</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="license-screen" class="screen">
      <div class="header">
        <h1>FigmaSnap</h1>
        <p>Please enter your license key to continue</p>
      </div>
      <div class="content">
        <input type="text" id="license-key" placeholder="XXXX-XXXX-XXXX-XXXX" />
        <button id="validate-license-btn" class="primary">
          Unlock FigmaSnap
        </button>
        <p class="hint">One-time payment: $8.99 at FigmaSnap.com</p>
        <p id="license-error" class="error hidden">Invalid license key</p>
      </div>
    </div>

    <div id="main-screen" class="screen hidden">
      <div class="header">
        <h1>FigmaSnap</h1>
        <p>Capture your prototypes in seconds</p>
      </div>

      <div class="form">
        <div class="field">
          <label>Figma Prototype URL</label>
          <div class="row">
            <input
              type="text"
              id="figma-url"
              placeholder="https://www.figma.com/proto/..."
            />
            <button id="discover-btn">Discover Flows</button>
          </div>
        </div>

        <div id="flows-section" class="field hidden">
          <label>Select Flows to Capture</label>
          <div id="flows-list" class="flows-list">
            <!-- Populated by JS -->
          </div>
        </div>

        <div class="field">
          <label>Password (if protected)</label>
          <input type="password" id="figma-password" placeholder="Optional" />
        </div>

        <div class="field">
          <label>Browser Path (Chrome, Edge, Brave, Arc, etc.)</label>
          <div class="row">
            <input
              type="text"
              id="browser-path"
              readonly
              placeholder="Auto-detecting..."
            />
            <button id="browse-browser-btn">Browse</button>
          </div>
        </div>

        <div class="field">
          <label>Output Folder</label>
          <div class="row">
            <input
              type="text"
              id="output-path"
              readonly
              placeholder="Select folder..."
            />
            <button id="browse-btn">Browse</button>
          </div>
        </div>

        <div class="field-row">
          <div class="field">
            <label>Export Preset</label>
            <select id="export-preset">
              <option value="stakeholder">Stakeholder Pack (2x + Cover)</option>
              <option value="dev">Dev Handoff (2x PNGs)</option>
              <option value="clean">Clean Deck (1x PDF)</option>
            </select>
          </div>
        </div>

        <div class="field-row">
          <div class="field">
            <label>Max Slides</label>
            <input type="number" id="max-slides" value="200" />
          </div>
          <div class="field">
            <label>Wait (ms)</label>
            <input type="number" id="wait-ms" value="5000" />
          </div>
        </div>

        <button id="start-btn" class="primary">Start Capture</button>
      </div>

      <div id="progress-container" class="hidden">
        <hr />
        <div class="status-box">
          <p id="status-text">Ready to snap...</p>
          <div class="progress-bar">
            <div id="progress-fill"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
